'use strict';
document.addEventListener('DOMContentLoaded', (e) => {
    e.preventDefault();

    function detectLanguage(text) {
        // Проверяем, содержит ли текст английские символы
        var containsEnglish = /[a-zA-Z]/.test(text);

        // Проверяем, содержит ли текст грузинские символы
        let containsGeorgian = /[\u10A0-\u10FF]/.test(text);

        if (containsEnglish && containsGeorgian) {
            return "ge-en";
        } else if (containsEnglish) {
            return "en";
        } else if (containsGeorgian) {
            return "ge";
        } else {
            return "";
        }
    }

    const objgeo = {
        'ა': 'a',
        'ბ': 'b',
        'გ': 'g',
        'დ': 'd',
        'ე': 'e',
        'ვ': 'v',
        'ზ': 'z',
        'თ': 'T',
        'ი': 'i',
        'კ': 'k',
        'ლ': 'l',
        'მ': 'm',
        'ნ': 'n',
        'ო': 'o',
        'პ': 'p',
        'ჟ': 'J',
        'რ': 'r',
        'ს': 's',
        'ტ': 't',
        'უ': 'u',
        'ფ': 'f',
        'ქ': 'q',
        'ღ': 'R',
        'ყ': 'y',
        'შ': 'S',
        'ჩ': 'C',
        'ც': 'c',
        'ძ': 'Z',
        'წ': 'w',
        'ჭ': 'W',
        'ხ': 'x',
        'ჯ': 'j',

        'ჰ': 'h',
        '[': '[',
        ']': ']',
        '{': '{',
        '}': '}',
        ';': ';',
        ':': ':',
        '\'': '\'',
        '"': '"',
        '`': '`',
        '~': '~',
        '@': '@',
        '$': '$',
        '%': '%',
        '^': '^',
        '&': '&',
        '*': '*',
        '(': '(',
        ')': ')',
        '-': '-',
        '_': '_',
        '=': '=',
        '+': '+',
        '!': '!',
        '<': '<',
        '>': '>',
        '/': '/',
        '?': '?',
        '.': '.',
        ',': ',',
        '|': '|',
        '/': '/',
        '\\': '\\',
        ' ': ' ',
        '„': '„',
        '“': '“',
        '—': '—',


        '0': '0',
        '1': '1',
        '2': '2',
        '3': '3',
        '4': '4',
        '5': '5',
        '6': '6',
        '7': '7',
        '8': '8',
        '9': '9',
        '0': '0',

        'I': 'I',
        'II': 'II',
        'III': 'III',
        'IV': 'IV',
        'V': 'V',
        'VI': 'VI',
        'VII': 'VII',
        'VIII': 'VIII',
        'IX': 'IX',
        'X': 'X',
        'XI': 'XI',
        'XII': 'XII',
        'XIII': 'XIII',
        'XIV': 'XIV',
        'XV': 'XV',
        'XVI': 'XVI',
        'XVII': 'XVII',
        'XVIII': 'XVIII',
        'XIX': 'XIX',
        'XX': 'XX',
        'XXI': 'XXI',
        'XXII': 'XXII',
        'XXIII': 'XXIII',
        'XXIV': 'XXIV',
        'XXV': 'XXV',
        'XXVI': 'XXVI',
        'XXVII': 'XXVII',
        'XXVIII': 'XXVIII',
        'XXIX': 'XXIX',
        'XXX': 'XXX'
    };

    const objgeoen = {
        'ა': 'a',
        'ბ': 'b',
        'გ': 'g',
        'დ': 'd',
        'ე': 'e',
        'ვ': 'v',
        'ზ': 'z',
        'თ': 'T',
        'ი': 'i',
        'კ': 'k',
        'ლ': 'l',
        'მ': 'm',
        'ნ': 'n',
        'ო': 'o',
        'პ': 'p',
        'ჟ': 'J',
        'რ': 'r',
        'ს': 's',
        'ტ': 't',
        'უ': 'u',
        'ფ': 'f',
        'ქ': 'q',
        'ღ': 'R',
        'ყ': 'y',
        'შ': 'S',
        'ჩ': 'C',
        'ც': 'c',
        'ძ': 'Z',
        'წ': 'w',
        'ჭ': 'W',
        'ხ': 'x',
        'ჯ': 'j',
        'ჰ': 'h',

        '[': '[',
        ']': ']',
        '{': '{',
        '}': '}',
        ';': ';',
        ':': ':',
        '\'': '\'',
        '"': '"',
        '`': '`',
        '~': '~',
        '@': '@',
        '$': '$',
        '%': '%',
        '^': '^',
        '&': '&',
        '*': '*',
        '(': '(',
        ')': ')',
        '-': '-',
        '_': '_',
        '=': '=',
        '+': '+',
        '!': '!',
        '<': '<',
        '>': '>',
        '/': '/',
        '?': '?',
        '.': '.',
        ',': ',',
        '|': '|',
        '/': '/',
        '\\': '\\',
        ' ': ' ',
        '„': '„',
        '“': '“',
        '—': '—',


        '0': '0',
        '1': '1',
        '2': '2',
        '3': '3',
        '4': '4',
        '5': '5',
        '6': '6',
        '7': '7',
        '8': '8',
        '9': '9',
        '0': '0',

        'I': 'I',
        'II': 'II',
        'III': 'III',
        'IV': 'IV',
        'V': 'V',
        'VI': 'VI',
        'VII': 'VII',
        'VIII': 'VIII',
        'IX': 'IX',
        'X': 'X',
        'XI': 'XI',
        'XII': 'XII',
        'XIII': 'XIII',
        'XIV': 'XIV',
        'XV': 'XV',
        'XVI': 'XVI',
        'XVII': 'XVII',
        'XVIII': 'XVIII',
        'XIX': 'XIX',
        'XX': 'XX',
        'XXI': 'XXI',
        'XXII': 'XXII',
        'XXIII': 'XXIII',
        'XXIV': 'XXIV',
        'XXV': 'XXV',
        'XXVI': 'XXVI',
        'XXVII': 'XXVII',
        'XXVIII': 'XXVIII',
        'XXIX': 'XXIX',
        'XXX': 'XXX',

        'a': 'a',
        'b': 'b',
        'c': 'c',
        'd': 'd',
        'e': 'e',
        'f': 'f',
        'g': 'g',
        'h': 'h',
        'i': 'i',
        'j': 'j',
        'k': 'k',
        'l': 'l',
        'm': 'm',
        'n': 'n',
        'o': 'o',
        'p': 'p',
        'q': 'q',
        'r': 'r',
        's': 's',
        't': 't',
        'u': 'u',
        'v': 'v',
        'w': 'w',
        'x': 'x',
        'y': 'y',
        'z': 'z',
        'A': 'A',
        'B': 'B',
        'C': 'C',
        'D': 'D',
        'E': 'E',
        'F': 'F',
        'G': 'G',
        'H': 'H',
        'I': 'I',
        'J': 'J',
        'K': 'K',
        'L': 'L',
        'M': 'M',
        'N': 'N',
        'O': 'O',
        'P': 'P',
        'Q': 'Q',
        'R': 'R',
        'S': 'S',
        'T': 'T',
        'U': 'U',
        'V': 'V',
        'W': 'W',
        'X': 'X',
        'Y': 'Y',
        'Z': 'Z'
    };

    const objen = {
        'a': 'ა',
        'b': 'ბ',
        'g': 'გ',
        'd': 'დ',
        'e': 'ე',
        'v': 'ვ',
        'z': 'ზ',
        'T': 'თ',
        'i': 'ი',
        'k': 'კ',
        'l': 'ლ',
        'm': 'მ',
        'n': 'ნ',
        'o': 'ო',
        'p': 'პ',
        'J': 'ჟ',
        'r': 'რ',
        's': 'ს',
        't': 'ტ',
        'u': 'უ',
        'f': 'ფ',
        'q': 'ქ',
        'R': 'ღ',
        'y': 'ყ',
        'S': 'შ',
        'C': 'ჩ',
        'c': 'ც',
        'Z': 'ძ',
        'w': 'წ',
        'W': 'ჭ',
        'x': 'ხ',
        'j': 'ჯ',
        'h': 'ჰ',

        '[': '[',
        ']': ']',
        '{': '{',
        '}': '}',
        ';': ';',
        ':': ':',
        '\'': '\'',
        '"': '"',
        '`': '`',
        '~': '~',
        '@': '@',
        '$': '$',
        '%': '%',
        '^': '^',
        '&': '&',
        '*': '*',
        '(': '(',
        ')': ')',
        '-': '-',
        '_': '_',
        '=': '=',
        '+': '+',
        '!': '!',
        '<': '<',
        '>': '>',
        '/': '/',
        '?': '?',
        '.': '.',
        ',': ',',
        '|': '|',
        '/': '/',
        '\\': '\\',
        ' ': ' ',
        '„': '„',
        '“': '“',
        '—': '—',


        '0': '0',
        '1': '1',
        '2': '2',
        '3': '3',
        '4': '4',
        '5': '5',
        '6': '6',
        '7': '7',
        '8': '8',
        '9': '9',
        '0': '0',

        'I': 'I',
        'II': 'II',
        'III': 'III',
        'IV': 'IV',
        'V': 'V',
        'VI': 'VI',
        'VII': 'VII',
        'VIII': 'VIII',
        'IX': 'IX',
        'X': 'X',
        'XI': 'XI',
        'XII': 'XII',
        'XIII': 'XIII',
        'XIV': 'XIV',
        'XV': 'XV',
        'XVI': 'XVI',
        'XVII': 'XVII',
        'XVIII': 'XVIII',
        'XIX': 'XIX',
        'XX': 'XX',
        'XXI': 'XXI',
        'XXII': 'XXII',
        'XXIII': 'XXIII',
        'XXIV': 'XXIV',
        'XXV': 'XXV',
        'XXVI': 'XXVI',
        'XXVII': 'XXVII',
        'XXVIII': 'XXVIII',
        'XXIX': 'XXIX',
        'XXX': 'XXX',
    };

    const convert = document.querySelector('.wrapper__convert a');


    convert.addEventListener('click', () => {
        let obj = {};
        const textarea = document.querySelector('.wrapper .textarea');
        const val = textarea.value;
        const text = detectLanguage(val);
        textarea.value = '';

        if (text === 'ge') { obj = { ...objgeo }; }
        if (text === 'ge-en') { obj = { ...objgeoen }; }
        if (text === 'en') { obj = { ...objen }; }
        if (text === '') return;
        //const copyedObj = { ...obj };
        console.log(text);

        let lines = val.split('\n');



       
        let endOftext = '';
        for (let i = 0; i < lines.length; i++) {
            let result = '';
            let str = lines[i];
            for (let j = 0; j < str.length; j++) {
                const simb = obj[str[j]];
                result += simb;
                //console.log(str[j].charCodeAt(0));
            }
            if (i !== lines.length) {
                endOftext = '\n';
            } else {
                endOftext = '';
            }

            textarea.value += (result + endOftext);
        }


    });



});